<article id="event-{{ event.id }}" class="card border-0 rounded tg-bg-color mb-5">
  <div class="row">
    <div class="col-md-6">
      {% comment %} 
      TODO: Display the events organizer.

      Show the organizers profile picture and name. 
      {% endcomment %}
      <div class="profile_header p-2">
        <a href="{% url 'events:profile' event.organizer.username %}">
          {{event.organizer.username}}
        </a>
      </div>
  
      {% comment %} 
      TODO:
      - [ ] Multiple images for the event

      https://getbootstrap.com/docs/4.3/components/carousel/
      {% endcomment %}
      <img 
        class="w-100"
        src="
        {% if event.photo %}
          {{ event.photo.url }}
        {% endif %}
        "
        alt="{{ event.title }}"
      >
      <div class="header px-2">
        {% csrf_token %}
        <ul class="d-flex p-0 m-0 list-unstyled">
          <li class="pr-2">
            <button id="like-button" class="btn p-0" event-id="{{ event.id }}">
              {% if user not in event.liked.all %}
                  <i class="fa-regular fa-heart fa-lg tg-text-color"></i>
              {% else %}
                  <i class="_selected fa-solid fa-heart fa-lg text-danger pulse"></i>
              {% endif %}
            </button>
          </li>
          <li class="px-2">
            <a 
              class="tg-text-color"
              href="https://t.me/share/url?url={{ DOMAIN }}{% url 'events:event_details' event.id %}"
            >
              <i class="fa-regular fa-paper-plane fa-lg"></i>
            </a>
          </li>
          <li class="pl-2 ml-auto">
            <button id="bookmark-button" class="btn p-0" event-id="{{ event.id }}">
              {% if user not in event.bookmarked.all %}
                  <i class="fa-regular fa-bookmark fa-lg tg-text-color"></i>
              {% else %}
                  <i class="_selected fa-solid fa-bookmark fa-lg text-warning"></i>
              {% endif %}
            </button>
          </li>
        </ul>
        <label 
          for="like-button" 
          id="like-counter"
          data-count="{{event.liked.all.count}}"
        >
          {{ event.liked.all.count }} likes
        </label>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card-body p-2">
        <h5 class="card-title">{{ event.title }}</h5>
  
        <p class="card-text">
          {% if show_full %}
            {{ event.long_description|safe}}
          {% else %}
            {{ event.short_description|safe}}
            <a
              class="tg-link-color" 
              href="{% url 'events:event_details' event.id %}"
            >
              Подробнее
            </a>
        {% endif %}
        </p>
  
        <ul class="p-0 list-unstyled">
          <li class="p-0">
            <small class="card-text tg-hint-color text-muted">
              <i class="fa-regular fa-calendar-alt"></i> {{ event.start_date }}
            </small>
          </li>
          {% comment %} 
          TODO: Link to google maps for the event
          {% endcomment %}
          <li class="p-0">
            <small class="card-text tg-hint-color text-muted">
              <i class="fa-regular fa-map"></i> {{ event.address }}
            </small>
          </li>
        </ul>
  
        {% comment %} 
          TODO: Figure out if the user actually signed in or not.
  
          (Perhaps th user gets redirected to register confirmation
          page after signing up to the event.)
  
          If the user is anonymous, redirect them to open the bot, 
          after which they will be redirected to the event details page.
        {% endcomment %}
        <a href="{{ event.sign_up_url }}" target="_blank" class="ml-auto">
          <button class="btn w-100 outline-btn">
            Зарегистрируйтесь сейчас
          </button>
        </a>
      </div>
    </div>
  </div>
</article>